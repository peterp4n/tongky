phar로 빌드할 때 에러 발생

phar 파일을 만들 때, 파일을 압축하는 부분에서 다음 에러가 발생했다.

unable to create temporary file

open file descriptor의 수를 확인하고, 너무 작으면 올려준다.

# 확인
ulimit -n
1024

# 변경
ulimit -n 20000

위 커맨드는 일시적으로 적용하는 것이라서 설정을 유지하려면 다음과 같이 설정파일을 이용하거나 profile 파일에 추가해야한다.

# 프로세스 사용자에 대한 설정
vi /etc/security/limits.conf

# profile에 설정. 가장 아래에 ulimit -n 20000 추가
vi /etc/profile

# 적용
source /etc/profile

